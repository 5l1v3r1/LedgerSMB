<?lsmb FILTER latex ?>
\documentclass{article}
\usepackage{longtable}
\title{<?lsmb text('Income Statement') ?>}
\begin{document}
\maketitle

%{\large
%<?lsmb FOREACH col IN report.cheads.ids.keys ?>
%<?lsmb report.cheads.ids.$col.props.description ?>

%<?lsmb END ?>
%}

\begin{longtable}{llll<?lsmb FOREACH c IN report.cheads.ids.keys; 'r'; END ?>}
\\
\multicolumn{4}{l}{}
<?lsmb
 FOREACH col IN report.cheads.ids.keys;
     ' & ';
     report.cheads.ids.$col.props.description ;
 END;
 ?> \\
\\
<?lsmb FOREACH row IN report.sorted_row_ids ?>
<?lsmb IF report.rheads.ids.$row.props.account_type == 'H'; ?>
<?lsmb END ?>


<?lsmb
  IF report.incl_accnos;
    IF report.rheads.ids.$row.props.account_number;
       report.rheads.ids.$row.props.account_number; ' & '; report.rheads.ids.$row.props.account_desc;
    ELSIF report.rheads.ids.$row.props.account_type == 'H';
      '\hline ';
       '\multicolumn{2}{l}{{\em '; report.rheads.ids.$row.props.account_desc; '}}';
    ELSE;
       ' & '; report.rheads.ids.$row.props.account_desc;
    END;
  END;
?>
& &
<?lsmb FOREACH col IN report.cheads.ids.keys;
  ' & '; report.cells.$row.$col;
END; ?>

\\

<?lsmb IF report.rheads.ids.$row.props.account_type == 'H'; ?>
   \\
<?lsmb END ?>
<?lsmb END ?>

\end{longtable}
\end{document}

<?lsmb END ?>
